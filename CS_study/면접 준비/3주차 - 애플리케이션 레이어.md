# 컴퓨터 네트워크 스터디 3주차 정리

- [쿠키와 세션](#)
- [JWT 토큰](#)
- [SOP와 CORS](#)
- [REST와 Restful API](#)
- [REST 제약 조건](#)
- [URI, URL, URN 차이](#)
- [XSS 공격과 방어하는 방법](#)
- [CSRF 공격과 방어하는 방법](#)
- [SQL Injection 공격과 방어하는 방법](#)
- [웹 캐시](#)
- [프록시 서버](#)
- [포워드 프록시](#)
- [리버스 프록시](#)
- [L7 로드 밸런서](#)
- [커넥션 타임아웃과 리드 타임아웃](#)

<br/><br/>

---

## 쿠키와 세션에 대해서 설명해주세요.

### 쿠키
: 클라이언트 측에 저장되는 작은 데이터 파일로, 웹 서버가 클라이언트를 식별하기 위해 사용합니다.  
- **작동 원리**
  1. 클라이언트가 서버에 처음 접속하면 서버가 쿠키를 생성합니다.
  2. 클라이언트는 이 쿠키를 브라우저에 저장합니다.
  3. 이후 요청 시 클라이언트는 쿠키를 함께 보내며, 서버는 이를 통해 클라이언트를 식별합니다.
- **장점**
  - 상태를 저장하고 요청마다 클라이언트를 식별 가능
  - 클라이언트 측에서 쿠키를 관리하며 서버의 부담을 줄일 수 있음
- **단점**
  - 클라이언트에 저장되므로 정보 유출 가능성(보안 취약점)
  - 저장 크기 제한(보통 4KB 이내)
- **사용 사례**
  - 로그인 상태 유지, 사이트 방문 기록 저장, 사용자 환경 설정 저장

<br/>

### 세션
: 클라이언트의 상태를 서버에 저장하는 방식으로, 클라이언트를 식별하기 위해 사용됩니다.  
- **작동 원리**
  1. 클라이언트가 서버에 접속하면 서버는 고유한 세션 ID를 생성합니다.
  2. 세션 ID는 클라이언트의 쿠키에 저장되거나 URL 파라미터로 전달됩니다.
  3. 서버는 세션 ID를 통해 클라이언트의 상태나 데이터를 관리합니다.
- **장점**
  - 중요한 데이터는 서버에 저장되므로 비교적 안전함
  - 상태 정보를 서버에서 관리해 클라이언트 측 부담 감소
- **단점**
  - 서버 측 저장소를 사용하므로 대규모 트래픽에서는 서버 부담 증가
  - 세션은 서버 메모리에 저장되기 때문에 사용자 수 증가 시 서버 성능 저하 가능성
- **사용 사례**
  - 쇼핑몰 장바구니, 로그인 인증 데이터 관리, 민감한 정보 처리

<br/>

#### 쿠키와 세션 비교
| **구분**       | **쿠키**                                     | **세션**                                     |
|----------------|---------------------------------------------|---------------------------------------------|
| **저장 위치**  | 클라이언트 측 브라우저                       | 서버 측 메모리 또는 저장소                   |
| **보안성**     | 낮음 (클라이언트에 저장되므로 탈취 가능)       | 높음 (서버에서 관리)                         |
| **수명**       | 만료 시간 설정 가능                         | 브라우저 종료 시 기본적으로 만료             |
| **용량**       | 보통 4KB 이하                                | 서버 메모리에 따라 제한                      |
| **성능**       | 서버 부담이 적음                            | 서버 부담이 증가                             |

<br/><br/>

---

## JWT 토큰에 대해서 설명해주세요.
토큰은 클라이언트에 권한을 부여하는 방법입니다.  
  - 토큰에는 서버가 비밀키로 만들어둔 서명이 포함되어 있습니다.  
  - 서버는 공개키로 서명을 검증해서 클라이언트를 허가할 수 있습니다.  
  - 세션과 달리 토큰은 그 자체를 공개키로 검증만 하면 되기 때문에 서버에 부하를 주지 않고, 여러 서버에 사용할 수 있는 확장성이 있습니다.

<br/><br/>

---

## SOP와 CORS에 대해서 설명해주세요.
CORS는 클라이언트 브라우저에서 현재 접속한 사이트 외에 다른 도메인에 접근할 수 있도록 처리해주는 웹 브라우저 표준 기술입니다.  
  - 브라우저에는 크로스사이트 스크립트 등의 이유로 보안상 스크립트를 사용해서 다른 도메인으로 접근하는 것을 제한합니다.  
  - 이를 Same Origin Policy라고 하며, 이러한 정책 제한을 넘어서기 위해 CORS가 필요합니다.  
  - 예를 들어, 웹 서비스를 프론트와 백으로 완전히 나누고 API로 묶는 방식으로 구현한 경우, 백엔드 서버에 프론트엔드에 대한 CORS 설정을 허용해줘서 프론트엔드가 백엔드 API를 사용할 수 있게 해줘야 합니다.

<br/><br/>

---

## REST에 대해서 설명해주세요. Restful API는 뭘까요?
- REST는 자원을 이름으로 구분하고, 해당 자원의 상태를 주고받는 방법을 의미합니다.  
  - 구체적으로는 HTTP URL을 통해 자원을 명시하고, HTTP Method를 통해 해당 자원에 대해 CRUD 연산을 적용하는 것입니다.  


- REST의 원리를 따르는 시스템을 RESTful이라고 부르고, REST 형식의 API를 REST API라고 부릅니다.

<br/><br/>

---

## REST 제약 조건에 대해 설명해주세요.
REST는 여섯 가지 기본적인 제약 조건이 있습니다.

1. **클라이언트-서버 구조**
   - 클라이언트는 화면 처리, 서버는 데이터 처리를 맡아서 서로 독립적으로 개발할 수 있습니다.

2. **무상태성**  
   - 서버는 클라이언트의 이전 요청 상태를 기억하지 않아요. 매번 필요한 정보를 요청에 담아서 보내야 합니다.

3. **캐시 가능**  
   - 응답을 캐시해서 반복 요청을 줄이고, 더 빠르게 데이터를 주고받을 수 있습니다.

4. **계층화 시스템**  
   - 서버와 클라이언트 사이에 프록시나 로드 밸런서 같은 중간 계층을 추가해서 확장성과 보안을 높일 수 있습니다.

5. **일관된 인터페이스**  
   - URI로 자원을 식별하고, HTTP 메서드(GET, POST 등)로 작업을 표현하며, 상태 코드로 결과를 알려줍니다.

6. **코드 온 디맨드 (선택사항)**  
   - 필요하면 서버에서 클라이언트로 실행 가능한 코드를 보내서 클라이언트 기능을 확장할 수 있습니다.

<br/><br/>

---

## URI, URL, URN 차이가 뭘까요?
URI는 인터넷 상에서 특정 자원을 가리키는 식별자입니다.  

- URI의 두 가지 형태로 URL과 URN이 있습니다.  
  - URL은 특정 시점에서 자원의 구체적인 위치를 나타내며, 자원의 위치가 변경되면 기존 URL은 더 이상 사용 불가능하다는 단점이 있습니다.  
  - URN은 이러한 URL의 단점을 보완하기 위해 새롭게 정의된 표준으로, 자원에 대해 영속적이고 고유한 식별자를 뜻합니다.

<br/><br/>

---

## XSS 공격이 무엇이고, 방어하는 방법을 설명해주세요.
XSS는 웹 브라우저에 악성 스크립트를 삽입하여 사용자 정보를 탈취하는 공격 방식입니다.  
- 웹 브라우저에서 사용자 입력값과 출력값을 철저히 검증해서 XSS를 예방할 수 있습니다.  
- 모든 입력값에 대해 악의적인 스크립트가 있는지 체크하는 validation을 추가하고,  입력값을 출력할 때는 특수문자를 이스케이프 처리하여 예방하는 방법이 있습니다.

<br/><br/>

---

## CSRF 공격이 무엇이고, 방어하는 방법을 설명해주세요.
CSRF 공격은 사용자가 의도하지 않는 악의적인 요청을 보내도록 하는 공격입니다.  
- 이를 방지하기 위해 서버는 CSRF 토큰을 클라이언트에 전달하는 방법을 사용할 수 있습니다.

<br/><br/>

---

## SQL Injection 공격이 무엇이고, 방어하는 방법을 설명해주세요.
SQL Injection은 악의적인 SQL 쿼리문을 삽입하여 데이터베이스를 비정상적으로 조작하는 공격 기법입니다.  
- 웹 브라우저에서 들어오는 입력값에 대해 악성 SQL 패턴에 대한 validation을 추가하고, 데이터베이스에서 비정상적인 SQL 패턴이 발생하는지 주기적으로 모니터링하며 비상 알람을 걸어 두는 방식을 선택할 수 있습니다.

<br/><br/>

---

## 웹 캐시에 대해 설명해주세요.
웹 캐시는 자주 사용되는 자원의 사본을 자동으로 보관하는 장치입니다.  
- 만약 어떤 HTTP 요청에 대한 사본이 캐싱되어 있으면, 서버까지 요청이 가지 않고 바로 캐시에서 자원을 제공합니다.  
- 캐시를 사용하면 반복되는 요청을 줄여 서버의 부하를 줄여주고, 갑작스러운 트래픽을 대처하며, 네트워크 병목과 전송 지연을 줄여줍니다.

<br/><br/>

---

## 프록시 서버에 대해서 설명해주세요.
프록시 서버는 클라이언트와 서버 사이에 존재하는 중개자입니다.  
- 프록시는 클라이언트로 동작하기도 하고 서버로 동작하기도 합니다.  
- 프록시는 데이터를 필터링하거나 변환하며, 방화벽을 세우거나 캐시 서버로 동작할 수 있습니다.

<br/><br/>

---

## 포워드 프록시에 대해서 설명해주세요.
포워드 프록시는 클라이언트와 서버 사이에 위치하여 클라이언트의 요청을 대신 서버로 전달하는 역할을 합니다.
- 포워드 프록시를 사용하면 클라이언트는 서버에 직접 접근하지 않고, 프록시를 통해서만 서버에 접근하게 되어 익명으로 웹사이트를 이용할 수 있습니다.
- 주로 IP 주소나 위치 추적을 숨기기 위해 사용되며, 특정 네트워크의 접근을 제한할 때도 사용됩니다.

<br/><br/> 

---

## 리버스 프록시에 대해서 설명해주세요.
리버스 프록시는 서버와 클라이언트 사이에 위치하며, 클라이언트의 요청을 받아 실제 서버로 전달하는 역할을 합니다.
- 리버스 프록시를 서버 앞에 두면, 외부에서는 실제 서버가 보이지 않게 되어 보안이 강화됩니다.
- 여러 대의 서버 뒤에 리버스 프록시를 배치하면 부하 분산이 가능하여 서버의 성능을 향상시킬 수 있습니다.
- 또한, 서버에 대한 직접적인 접근을 막고, 캐싱, SSL 종료 등의 역할도 할 수 있습니다.

<br/><br/>

---

## L7 로드 밸런서에 대해서 설명해주세요.
L7 로드 밸런서는 애플리케이션 계층(7계층)에서 동작하는 로드 밸런서입니다.
- L7 로드 밸런서는 HTTP, HTTPS, FTP 등과 같은 프로토콜을 처리하며, 클라이언트의 요청을 분석하여 적절한 서버로 트래픽을 분배합니다.
- 클라이언트의 요청에 포함된 정보를 바탕으로 로드 밸런싱을 수행하므로, 예를 들어 URL 경로나 쿠키 값을 이용해 요청을 특정 서버로 보낼 수 있습니다.
- 이 방식은 정교한 트래픽 관리와 세분화된 분배가 가능하여 복잡한 애플리케이션에서 유용하게 사용됩니다.

<br/><br/>

---
    
## 커넥션 타임아웃과 리드 타임아웃에 대해 설명해주세요.
커넥션 타임아웃은 클라이언트와 서버가 TCP 연결을 확립하는 데 걸리는 최대 시간을 설정하는 값입니다. 
- 이 시간이 초과되면 연결을 시도한 서버가 응답을 받지 못하고 타임아웃됩니다.

<br/>

리드 타임아웃은 클라이언트가 요청을 보낸 후 서버로부터 응답을 받을 때까지 걸리는 최대 시간을 설정하는 값입니다. 
- 서버가 이 시간 안에 응답을 보내지 않으면 요청이 타임아웃되어 실패하게 됩니다.


<br/><br/>
<br/>
