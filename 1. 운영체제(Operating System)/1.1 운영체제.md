
# 📌 운영체제

<br/>

## ✅ 운영체제(Operating System, OS)

- 하드웨어 계층과 다른 소프트웨어 계층을 연결하는 소프트웨어 계층
(ex. Window, Mac OS, Linux(리눅스), Unix(유닉스) 등)

<br/>

### ☑️ 역할
- 컴퓨터 시스템 자원 관리
- 컴퓨터 사용 환경 제공
 
![](https://raonctf.com/static/essential/images/system/operating_system_01.jpg)
출처: [RAON CTF](https://raonctf.com/essential/study/web/operating_system)

<br/>

### ☑️ 목적

1. 처리 능력 향상 <br/>
➡ 자원 관리를 통해 시스템 처리 양 향상⬆️

2. 반환 시간 단축 <br/>
➡ 사용자가 시스템에 요청한 작업 소요 시간 단축⬇️

3. 사용 가능도 향상 <br/>
➡ 사용자가 컴퓨터 사용 시 자원 즉시 사용 가능

4. 신뢰도 향상 <br/>
➡ 시스템의 계산 정확도 향상⬆️

<br/><br/>
<br/>
  
## ✅ CPU와 메모리 구조

 ### ☑️ CPU (Central Processing Unit, 중앙 처리 장치)
: 컴퓨터에서 프로그램을 실행하는데 필요한 연산을 처리하고 수행하는 장치
- 프로세서(processor)라고도 한다.

<br/>
  
### ☑️ 메모리(Memory)
: 데이터를 저장하기 위한 기억장치
- 주 기억 장치: 휘발성 메모리(RAM)
- 보조 기억 장치: 비휘발성 메모리(SSD, HDD)

<br/>
 
### ☑️ 메모리 구조
![메모리 계층 구조](https://velog.velcdn.com/images%2Falicesykim95%2Fpost%2F97706160-03d5-4877-8d6d-abceec9d91a8%2F%E1%84%8C%E1%85%A1%E1%84%87%E1%85%A1_%E1%84%89%E1%85%A5%E1%86%AF%E1%84%86%E1%85%A7%E1%86%BC17.jpg)
출처: [메모리 계층 구조](https://velog.velcdn.com/images%2Falicesykim95%2Fpost%2F97706160-03d5-4877-8d6d-abceec9d91a8%2F%E1%84%8C%E1%85%A1%E1%84%87%E1%85%A1_%E1%84%89%E1%85%A5%E1%86%AF%E1%84%86%E1%85%A7%E1%86%BC17.jpg)

<br/>

•  **레지스터 (register)** <br/>
: CPU가 사용자 요청을 처리하는 데 필요한 데이터를 임시로 저장하는 기억장치
- CPU 내부에 위치
- 접근 속도가 가장 빠르다.

<br/>

•  **캐시 메모리 (cache memory)** <br/>
: CPU와 RAM 사이의 속도 차이를 해결하기 위한 기억장치
- CPU 내부에 위치
- 접근 속도가 두 번째로(레지스터 다음) 빠르다.

<br/>

•  **RAM (Random Access Memory)** <br/>
: 컴퓨터에서 프로그램을 실행할 때 필요한 정보를 저장하는 기억장치
-  **휘발성** 기억장치
- CPU에서 세 번째로(캐시 다음) 빠르다.
- 보통 메모리라고 할 때 RAM을 의미하는 경우가 많다.

<br/>

•  **하드 디스크 (hard disk)** <br/>
: 사용자가 필요한 데이터와 프로그램을 저장하는 장치
- **비휘발성** 기억장치

<br/><br/>

### ☑️ OS가 프로그램을 실행하는 과정
1. 프로그램을 실행하면 OS가 디스크에 있는 프로그램을 메모리로 로드한다.  
2. 메모리에 로드한 프로그램을 프로세스(process)라고 하며, CPU가 처리한다.  
3. **CPU는 하나의 프로세스만 처리**할 수 있기 때문에 멀티 프로세스 환경에서는 **OS가 스케줄링을 통해** CPU에 프로세스를 할당한다.

* 로드(load): 프로그램을 메모리에 올려 공간을 할당하는 것

<br/><br/>
<br/>

## ✅ 커널과 시스템 콜

### ☑️ 커널(kernel)
- OS의 핵심 요소
- 시스템의 모든 것을 완전히 제어(control)한다.
  - **컴퓨터 하드웨어와 프로세스의 보안, 자원 관리, 하드웨어 추상화** 같은 중요한 역할을 수행한다.
  - 특히 자원 관리를 위한 **CPU 스케줄링, 메모리 관리, 입출력 관리, 파일 시스템 관리** 등을 담당한다. 

<br/><br/>
<br/>

### ☑️ 커널 모드(kernel mode)
- **커널 모드(kernel mode)**
: 하드웨어에 **직접 접근**할 수 있는 모드
  - 메모리, CPU 같은 자원을 사용할 수 있다.
 
<br/>  

- **사용자 모드(user mode)**
: 사용자가 커널 모드의 자원에 함부로 접근할 수 없게 제한하는 모드
  - 자원에 접근하려면 시스템 콜을 호출하여 커널에 요청해야 한다.

<br/><br/>  
<br/>

### ☑️ 시스템 콜(system call)
: **사용자 모드에서 커널 모드에 접근**하여 필요한 기능을 수행할 수 있도록 하는 시스템 함수
- 커널은 시스템 콜로 요청들을 처리한 후 다시 시스템 콜로 결과 값을 반환한다.
- ex) 프로세스를 생성하는 fork(), 부모 프로세스가 자식 프로세스의 수행을 기다리는 wait()
  ![user mode, kernel mode](https://ghleokim.github.io/static/f041ab7e2191094d2662c8c81bf38e5e/50383/user-kernel-mode.png)

출처: [시스템 콜](https://ghleokim.github.io/%EC%9A%B4%EC%98%81%EC%B2%B4%EC%A0%9C-%EC%9C%A0%EC%A0%80%EB%AA%A8%EB%93%9C%EC%99%80-%EC%BB%A4%EB%84%90%EB%AA%A8%EB%93%9C/)

<br/>

#### ⏩ 시스템 콜에서 커널에 매개변수를 전달하는 방법
1. 매개변수를 CPU의 레지스터에 직접 전달하는 방식 (권장 X)

3. 매개변수를 메모리에 저장한 후 메모리의 주소 값을 레지스터에 저장하는 방식

4. 매개변수를 프로그램의 스택(stack)에 push하고, OS에서 pop해 매개변수를 전달하는 방식


<br/><br/>
